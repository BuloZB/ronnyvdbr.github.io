sudo sed -i 's/deb http:\/\/mirrordirector.raspbian.org\/raspbian wheezy main firmware/deb http:\/\/archive.raspbian.org\/raspbian wheezy main contrib non-free/g' /etc/apt/sources.list
apt-get update
sudo apt-get install debhelper libcurl4-gnutls-dev
sudo apt-get install mysql-server freeradius freeradius-mysql

echo “create database radius;” | mysql –u root –p
mysql -u root -p radius < /etc/freeradius/sql/mysql/schema.sql
mysql -u root -p radius < /etc/freeradius/sql/mysql/admin.sql
echo "insert into radcheck (username, attribute, op, value) values ('user', 'Cleartext-Password', ':=', 'password');" | mysql -u root -p radius

sudo sed -i 's/#  \$INCLUDE sql.conf/\$INCLUDE sql.conf/g' /etc/freeradius/radiusd.conf -- not working

nano /etc/freeradius/sites-available/default
authorize {
sql
}

accounting {
sql
}

session {
sql
}


/etc/init.d/freeradius restart

wget http://ap.coova.org/chilli/coova-chilli-1.3.0.tar.gz
tar xzf coova-chilli-1.3.0.tar.gz
cd coova-chilli-1.3.0

./configure  --prefix=/usr --mandir=\$${prefix}/share/man --infodir=\$${prefix}/share/info \
--sysconfdir=/etc --localstatedir=/var --enable-largelimits \
--enable-binstatusfile --enable-statusfile --enable-chilliproxy \
--enable-chilliradsec --enable-chilliredir --with-openssl --with-curl \
--with-poll --enable-dhcpopt --enable-sessgarden --enable-dnslog \
--enable-ipwhitelist --enable-redirdnsreq --enable-miniconfig \
--enable-libjson --enable-layer3 --enable-proxyvsa --enable-miniportal \
--enable-chilliscript --enable-eapol --enable-uamdomainfile \
--enable-modules --enable-multiroute
echo 9 > debian/compat

$ sudo nano /usr/src/coova-chilli-1.3.0/debian/rules
On line 54 of the file (close to the bottom) under install: build, we need to replace the following line:
$(MAKE) DESTDIR=$(CURDIR)/debian/tmp install
With:
$(MAKE) DESTDIR=/ install
dpkg-buildpackage -us -uc


